# pcflop - tiny kernel with compressed root used to install from floppy & cd.
# has minimal vga drivers, no usb support and only some ether drivers,
# and in general no frills.  compressed stripped size:
# --rw-rw-r-- M 79850 geoff sys 1209815 May 21 17:45 9pcflop.gz
dev
	root
	cons
	arch
	pnp		pci
	env
	pipe
	proc
	mnt
	srv
	dup
	rtc
#	ssl
#	tls
	cap
#	fs

	ether		netif
	ip		arp chandial ip ipv6 ipaux iproute netlog nullmedium pktmedium ptclbsum386

	draw		screen vga vgax
	mouse		mouse
	vga

	sd
	uart

link
# order of ethernet drivers should match that in ../pcboot/boot so that
# devices are detected in the same order by bootstraps and kernels
# and thus given the same controller numbers.  put fastest first.
# 10 Gb/s
	etherxgbe	pci
# gigabit
	etherigbepci	pci ethermii
	etherigbe	pci
	ether8169	pci ethermii
# 100 Mb/s
	ether82557	pci
	ether8139	pci
	etherelnk3	pci
	ethervt6105m	pci ethermii
# dog slow, mainly for use in virtual machines
	ether2000	ether8390
	ether79c970	pci
	ether8003	ether8390

	ethermedium
	netdevmedium
	loopbackmedium

misc
	mp		apic mpacpi
#	nomp

	sdata		pci sdscsi
	sd53c8xx	pci sdscsi
	sdmylex		pci sdscsi
	sdahci		pci sdscsi
#	sdnvme		pci sdscsi

	uarti8250

# add vgavmware? is there room?
	vgavesa		realmode

ip
	tcp
	udp
	ipifc
	icmp
	icmp6

port
	int cpuserver = 0;

boot glenda boot #f/fd0disk
	local

bootdir
	boot$CONF.out boot
	/sys/lib/dist/bin/386/bzfs kfs
	/sys/lib/dist/pc/root.bz2 bzroot
