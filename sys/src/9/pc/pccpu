# pccpu - cpu server kernel
dev
	root
	cons

	arch
	pnp		pci
	env
	pipe
	proc
	mnt
	srv
	dup
	rtc
	ssl
	tls
	bridge		log
	cap
	kprof
#	fs
	segment

	ether		netif
	ip		arp chandial ip ipv6 ipaux iproute netlog nullmedium pktmedium ptclbsum386

#	kbmap
# usb kbd and mouse need these
	kbin
#	mouse		mouse

	sd
#	aoe

	uart
	usb
	wd

link
# order of ethernet drivers should match that in ../pcboot/boot so that
# devices are detected in the same order by bootstraps and kernels
# and thus given the same controller numbers.  put fastest first.
# 10 Gb/s
	etherxgbe	pci
# gigabit
	etherigbepci	pci ethermii
	etherigbe	pci
	ether8169	pci ethermii
# 100 Mb/s
	ether82557	pci
	ether8139	pci
	etherelnk3	pci
	ethervt6105m	pci ethermii
# dog slow, mainly for use in virtual machines
	ether2000	ether8390
	ether79c970	pci
	ether8003	ether8390
	ethersink

	ethermedium
	netdevmedium
	loopbackmedium

# we don't really see usb 1 controllers any more
	usbuhci
	usbohci
	usbehci		usbehcipc
# disable goddamn xhci
#	usbxhci		usbxhcipc

	x86watchdog

misc
	mp		apic mpacpi

	uarti8250
	uartpci		pci
#	uartox		pci

	sdnvme		pci sdscsi
	sdahci		pci sdscsi
	sdmylex		pci sdscsi
	sd53c8xx	pci sdscsi
# sdata is included only for apu2s with old bios (e.g., 4.0.4)
	sdata		pci sdscsi
#	sdaoe		sdscsi

ip
	tcp
	udp
#	rudp
	ipifc
	icmp
	icmp6
#	gre
	ipmux
	esp

port
	int cpuserver = 1;

boot cpu
	tcp

bootdir
	boot$CONF.out boot
	/386/bin/ip/ipconfig
	/386/bin/ramfs
# enabled for 9vm, 30 mar 2019.  without it, fm's auth got confused,
# despite ttftp loading, 6 jan 2022.
	/386/bin/auth/factotum
# compiling usbd in allows early keyboard and partfs use.
# costs about 56K of compressed 9pccpulz.
# enabled 22 sep 2018 to enable initial boot of dan (nuc).
	/386/bin/usb/usbd
# for puget bring-up & fm,  7 jan 2022
	/cfg/example/nvram
